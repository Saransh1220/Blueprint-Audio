<div class="control-deck" #controlDeck>
  @if (playerService.currentTrack(); as track) {
    <div class="deck-art">
      <img [src]="track.imageUrl" />
    </div>
    <div class="deck-info">
      <div>{{ track.title }}</div>
      <div>{{ track.bpm }} BPM â€¢ {{ track.key }}</div>
    </div>
  } @else {
    <div class="deck-art" style="display: flex; align-items: center; justify-content: center">
      <i class="fa-solid fa-music" style="color: var(--text-color); opacity: 0.5"></i>
    </div>
    <div class="deck-info">
      <div>Ready to Play</div>
      <div>Select a track</div>
    </div>
  }

  <div class="waveform">
    <!-- Simple bars -->
    <div class="wave-bar" style="animation-delay: 0.1s"></div>
    <div class="wave-bar" style="animation-delay: 0.3s"></div>
    <div class="wave-bar" style="animation-delay: 0.5s"></div>
    <div class="wave-bar" style="animation-delay: 0.2s"></div>
    <div class="wave-bar" style="animation-delay: 0.4s"></div>
    <div class="wave-bar" style="animation-delay: 0s"></div>
    <div class="wave-bar" style="animation-delay: 0.3s"></div>
    <div class="wave-bar" style="animation-delay: 0.1s"></div>
    <div class="wave-bar" style="animation-delay: 0.5s"></div>
    <div class="wave-bar" style="animation-delay: 0.2s"></div>
    <div class="wave-bar" style="animation-delay: 0.4s"></div>
    <div class="wave-bar" style="animation-delay: 0.1s"></div>
  </div>

  <div class="deck-controls">
    <div class="ctrl-btn">
      <i class="fa-solid fa-backward-step"></i>
    </div>
    <div class="ctrl-btn play-pause">
      <i class="fa-solid fa-play"></i>
    </div>
    <div class="ctrl-btn">
      <i class="fa-solid fa-forward-step"></i>
    </div>
    <div class="ctrl-btn" (click)="playerService.hidePlayer()">
      <i class="fa-solid fa-xmark"></i>
    </div>
  </div>
</div>
